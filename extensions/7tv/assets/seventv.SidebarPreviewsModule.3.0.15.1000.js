import{d as k}from"./seventv.useModule.3.0.15.1000.js";import{d as w,G as g,as as _,a as y,al as u,am as C,a4 as S,ap as P,l,f as h,m as T,F as b,s as j,u as x,ak as E}from"./seventv.index.3.0.15.1000.js";import{u as M}from"./seventv.ReactHooks.3.0.15.1000.js";import{r as O,M as F,u as v}from"./seventv.preload-helper.3.0.15.1000.js";const H=w({__name:"SidebarCard",props:{instance:{}},setup(f){const o=f,s=g("ui.sidebar_previews"),a=O();_(o.instance.component,"props",{value:t=>{_(t,"tooltipContent",{value:e=>{typeof e=="object"&&(a.value=e)}})}}),y(a,(t,e)=>{t!=e&&(e&&typeof e.type=="function"&&u(e.type.prototype,"render"),t&&typeof t.type=="function"&&(C(t.type.prototype,"render",function(r,...p){const c=(r==null?void 0:r.apply(this,p))??null;return m(this,c)}),n()))},{immediate:!0}),y(s,()=>n());function n(){F(o.instance.component).forceUpdate()}function m(t,e){var p,c,d;if(!s.value)return e;const r=(p=e==null?void 0:e.props)==null?void 0:p.children;return!r||!((c=r.props)!=null&&c.children)||(r.props.style={width:"20rem"},r.props.children.splice(2,0,{[P]:Symbol.for("react.element"),ref:null,key:null,type:"div",props:{className:"seventv-sidebar-tooltip-preview",style:{backgroundImage:i(((d=t.props.channelDisplayName)==null?void 0:d.toLowerCase())??"???")}}})),e}function i(t){let e=`https://static-cdn.jtvnw.net/previews-ttv/live_user_${t}-190x107.jpg`;return e+=`?${Math.floor(Date.now()/3e5)}`,`url("${e}")`}return S(()=>{var t,e;u(o.instance.component,"props"),(t=o.instance.component)!=null&&t.props&&u(o.instance.component.props,"tooltipContent"),typeof((e=a.value)==null?void 0:e.type)=="function"&&u(a.value.type.prototype,"type")}),(t,e)=>null}});const N=[E("ui.sidebar_previews","TOGGLE",{path:["Appearance","Interface"],label:"Sidebar Stream Thumbnails",hint:"Show stream thumbnails when hovering over streams on the sidebar.",defaultValue:!1})],$=w({__name:"SidebarPreviewsModule",setup(f){const{markAsReady:o}=k("sidebar-previews",{name:"Sidebar Previews",depends_on:["settings"]}),s=g("ui.sidebar_previews"),a=M({parentSelector:".side-nav-section",predicate:n=>n.props&&n.props.title&&n.props.isWatchParty!==null&&n.props.linkTo});return o(),(n,m)=>(l(!0),h(b,null,T(v(a).instances,i=>(l(),h(b,{key:i.identifier},[v(s)?(l(),j(H,{key:0,instance:i},null,8,["instance"])):x("",!0)],64))),128))}}),R=Object.freeze(Object.defineProperty({__proto__:null,config:N,default:$},Symbol.toStringTag,{value:"Module"}));export{R as _};
