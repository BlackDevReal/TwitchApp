import{o as _}from"./seventv.index.3.0.15.10003.js";import{d as v,w as m,aV as h,o as w,l as y,f as B,at as g,aW as k,_ as x}from"./seventv.index.3.0.15.1000.js";import{r as C}from"./seventv.preload-helper.3.0.15.1000.js";const F=v({__name:"UiFloating",props:{anchor:{},position:{},emitClickout:{type:Boolean},middleware:{},placement:{},once:{type:Boolean}},emits:["clickout"],setup(u,{emit:d}){const o=u,i=C();let e;m(()=>{e==null||e(),e=void 0;const n=o.anchor,a=i.value,p=o.middleware??[],f=o.placement;if(!a)return;const l={getBoundingClientRect:()=>{var c,r;return{top:((c=o.position)==null?void 0:c[1])??0,left:((r=o.position)==null?void 0:r[0])??0,width:0,height:0}}},s=()=>{k(n??l,a,{middleware:p,placement:f}).then(({x:c,y:r})=>{a.style.top=`${r}px`,a.style.left=`${c}px`})};o.once?s():e=h(n??l,a,s)});let t;return m(()=>{t==null||t(),t=void 0,o.emitClickout&&(t=_(i.value,n=>d("clickout",n)))}),w(()=>{e==null||e(),t==null||t()}),(n,a)=>(y(),B("div",{ref_key:"el",ref:i,class:"floating-container"},[g(n.$slots,"default",{},void 0,!0)],512))}});const E=x(F,[["__scopeId","data-v-4305b416"]]);export{E as U};
